<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        {% if page.metadata.title is defined %}
            {{ page.metadata.title }}
        {% else %}
            Untitled
        {% endif %}
        &larr; {{site.config.title}}</title>
    <link rel="stylesheet" href="{{ page.link('/assets/style.css') }}" />
    <link rel="alternate" href="{{ page.link('/index') }}.rss" type="application/rss+xml" title="RSS feed" />
    <link rel="icon" type="image/png" sizes="32x32" href="{{ page.link('/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ page.link('/favicon-16x16.png') }}">
    <link rel="canonical" href="{{ site.config.url }}{{ page.id }}.html" />
    <link rel="webmention" href="https://webmention.io/samwilson.id.au/webmention" />
    <link rel="pingback" href="https://webmention.io/samwilson.id.au/xmlrpc" />
    <meta property="og:url" content="{{ site.config.url }}{{ page.id }}.html" />
    <meta property="og:title" content="{{ page.metadata.title|e('html_attr') }}" />
    <meta property="twitter:title" content="{{ page.metadata.title|e('html_attr') }}" />
    {% if page.metadata.description is defined and page.metadata.description %}
        <meta name="description" content="{{ page.metadata.description|e('html_attr') }}">
        <meta property="og:description" content="{{ page.metadata.description|e('html_attr') }}" />
        <meta name="twitter:description" content="{{ page.metadata.description|e('html_attr') }}">
    {% endif %}
    <meta name="twitter:site" content="@samwilson" />
    <meta name="twitter:creator" content="@samwilson" />
    {% block headend %}{% endblock %}
</head>
<body>
<header class="site">
    <p class="left"><a href="{{ page.link('/index') }}.html" rel="start" title="Go to homepage">{{site.config.title}}</a></p>
    <p class="right noprint">
        <a href="https://meta.wikimedia.org/wiki/User:Samwilson" rel="me" title="Go to my Wikimedia user page on Meta Wiki"><img alt="Wikimedia user link badge" src="https://img.shields.io/static/v1?label=Wikimedia&message=User:Samwilson&labelColor=%2336c&style=social&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAACv0lEQVQ4jYWRW0iTYRjHf9/8BrPaNJpr1HBSmpqjRdQ6McOCVLrpogNlgQcihKLLCCq6KoIiSjK8MNAyCKIkIrDyUBidIW1WywxnU6d5+KabGX76dCETK8L/1cP7/n/v83+fB/6SiFhE5NBYKNTccvFitOXChchYb2+jiBSIiOlv/2xQEZGjIqKNDw1JjdMpFSAVILdSUuSXpomI9IjIvtmcIQYPjI5X9WhjVwBLZ20tkUBgxjTa2UnnvXsA9h5t7FZoJHo2dqcCTExNHd1XWX/wc0jjxfGdSpzp36RxJhPB4aiy8XwtWUsWntB1ea2qSq1BRBJrXrWfe/KpmzRbAuZ4BXPeVmwezwxsW7+eBbk5mOMVllkt1LUFqXrprxARVQX2XK73zYs3qlQX5XC6qZL2wW6uPbiL8qZlej4eN0UPL7FikYObJYWknbxN+dM2W/Hm9O0GX8/Q7vffB8nNcqBN9PO8y0d/dJjSR2WoXg+q10NpXRn90WGauz4wqg+Qm+XgXWCA1u7BvWrHj5HlAKk2C619HTOx+6PDtPZ9m6ljeh/qYMXiBAA+94YzDSIy+d/dziGBKUNqUqIfoL1vhNX21Dmh1fbl+ENhADLsFp/BtXTh7TXJVh59DGJWrWxOdv0XznauYr5h2rsuJQm3w3rDANw5kuMK/5zQOVDZyJnsErKd7n/gLSluTnmLOHC9gV/6JIe8GV3AMwVA1+XgjqsPq+vagnjT7Nws3kpkcgBtPAJAosnMgrhFFFQ20Pw1RL4rWe6X5m0zGpVGJdYhqEXOllQ9PVHXFsRkjGP7Sgdptulpf+kL8/hTkPGJSfJdyXJ1/6Zjy6wJZQDK7Ji6LruqX/nLy5s+Jr0N/PjjC2udSRzOzgwUbsgoNhqVhtj5Hw8AiIgK5LYEB/f6Q+F0AcmwW3xuh7UGaFIURWb7fwMlLzl/PVZvPwAAAABJRU5ErkJggg==" /></a>
        <a href="https://twitter.com/samwilson" rel="me" title="Follow me on Twitter"><img alt="Twitter user link badge" src="https://img.shields.io/twitter/follow/samwilson?label=%40samwilson&style=social"></a>
        <a href="https://github.com/samwilson" rel="me" title="See what I've been up to on GitHub"><img alt="GitHub user link badge" src="https://img.shields.io/github/followers/samwilson?label=Github&style=social"></a>
    </p>
</header>
<article itemscope itemtype="http://schema.org/Article">
    <header class="page">
        <h1 itemprop="name">
            {% if page.metadata.title is defined %}
                {{ page.metadata.title }}
            {% else %}
                Untitled
            {% endif %}
        </h1>
        <p>
            {% if page.metadata.location is defined and page.metadata.location %}
                <span itemprop="location">{{ page.metadata.location }}</span>
            {% endif %}
            {% if page.metadata.location is defined and page.metadata.location and page.metadata.date is defined and page.metadata.date %}
                <br />
            {% endif %}
            {% if page.metadata.date is defined and page.metadata.date %}
                {% if page.metadata.timezone is defined %}
                    {% set date = date_create( page.metadata.date, page.metadata.timezone ) %}
                {% else %}
                    {% set date = date_create( page.metadata.date, 'Australia/Perth' ) %}
                {% endif %}
                <time datetime="{{ date.format('c') }}" itemprop="datePublished">
                    <a href="{{ page.link( '/'~date.format('Y') ) }}.html" title="View the archive for {{ date.format('Y') }}">{{ date.format('Y') }}</a>{{ date.format('-m-d') }}
                </time>
            {% endif %}
        </p>
    </header>
    <div class="body">
        {{page.body|md2html|raw}}
        {% block postbody %}{% endblock %}
    </div>
    <footer>
        {% if page.metadata.tags is defined %}
            <p>
                Tags:
                {% for t in page.metadata.tags %}
                    {% set tag = database.query('SELECT * FROM pages WHERE id = "/tags/'~t~'"').fetch() %}
                    {% if tag %}
                        {% if tag.wikidata %}
                        <span itemscope itemtype="http://schema.org/Thing">
                            <meta itemprop="url" content="https://www.wikidata.org/wiki/{{ tag.wikidata }}">
                            <a href="{{ page.link(tag.id) }}.html" rel="tag" itemprop="sameAs">{{ tag.title }}</a>
                        </span>
                        {% else %}
                            <a href="{{ page.link(tag.id) }}.html" rel="tag">{{ tag.title }}</a>
                        {% endif %}
                    {% else %}
                        {{ t }}
                    {% endif %}
                    &middot;
                {% endfor %}
            </p>
        {% endif %}
        <script src="https://utteranc.es/client.js"
                repo="samwilson/website"
                issue-term="pathname"
                label="comment"
                theme="github-light"
                crossorigin="anonymous"
                async>
        </script>
    </footer>
</article>
<footer class="noprint">
    <ul>
        <li><a href="https://github.com/samwilson/website/edit/master/content{{ page.id }}{{ site.ext }}">Edit this page</a></li>
        <li><a href="https://github.com/samwilson/website/issues/new?title=[Comment]&labels=comment&body={{ '
Commenting about: ' ~ site.config.url ~ page.id ~ '.html

[Please say whatever you want here. You can delete this line.]

'|e('url') }}">Leave a comment</a></li>
    </ul>
</footer>
</body>
</html>
